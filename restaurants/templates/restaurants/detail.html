{% extends 'base.html' %}
{% load django_bootstrap5 %}
{% load static %}
{% block css %}
<link rel="stylesheet" href="{% static 'restaurants/css/style.css' %}">
{% endblock css %}
{% block content %}
<container>
  <!-- 음식점 정보 -->
  <!--<div class="row">
    <a href="{% url 'restaurants:update' restaurant.pk %}">음식점정보 수정하기</a>
    <div class="d-flex  justify-content-between">
      <h2>{{ restaurant.restaurant_name }}</h2>
      <div class="">
        <div>별점</div>
        <div>조회수</div>
        <a href="{% url 'reviews:create' restaurant.pk %}">리뷰 작성하기</a>
        <form method="POST" action="{% url 'restaurants:like' restaurant.pk %}">
          {% csrf_token %}
          {% if request.user.is_authenticated %}
            {% if request.user in restaurant.like_users.all %}
              <input type="submit" class="btn btn-dark" value="좋아요">
            {% else %}
              <input type="submit" class="btn btn-dark" value="좋아요 취소">
            {% endif %}
          {% else %}
            {% bootstrap_button buton_type="submit" content="로그인이 필요"%}
          {% endif %}
          <span class="mx-3" id="like-count">{{review.like.count}}</span>
        </form>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div>주소</div>
        <div>전화번호</div>
        <div>영업시간</div>
        <div>메뉴</div>
        <div>가격대</div>
        <div>주차</div>
        <div>휴일</div>
      </div>
      <div class="col">
        <div>{{ restaurant.address }}</div>
        <div>전화번호 내용</div>
        <div>{{ restaurant.Opening_hours }}</div>
        <div>{{ restaurant.menu }}</div>
        <div>{{ restaurant.price_avg }}</div>
        <div>{{ restaurant.parking }}</div>
        <div>{{ restaurant.day_off }}</div>
      </div>
    </div>-->
  <div class="r_info">
    <div class="r_header">
      <h1>{{ restaurant.restaurant_name }}</h1>
      <div class="detailed_info">
        <img src="https://cdn-icons-png.flaticon.com/512/4422/4422191.png" alt="별점">
        <div class="people_views"><img src="https://cdn-icons-png.flaticon.com/512/159/159604.png" alt="조회수 아이콘">
          <p>24,310</p>
        </div>
        <form method="POST" action="{% url 'restaurants:like' restaurant.pk %}">
          {% csrf_token %}
          {% if request.user.is_authenticated %}
          {% if request.user in restaurant.like_users.all %}
          <input type="submit" class="btn btn-dark" value="좋아요">
          {% else %}
          <input type="submit" class="btn btn-dark" value="좋아요 취소">
          {% endif %}
          {% else %}
          {% bootstrap_button buton_type="submit" content="로그인이 필요"%}
          {% endif %}
          <span class="mx-3" id="like-count">{{review.like.count}}</span>
        </form>
        <a href="{% url 'restaurants:update' restaurant.pk %}"><img
            src="https://cdn-icons-png.flaticon.com/512/1159/1159633.png" alt="수정 아이콘"></a>
      </div>
    </div>
    <table>
      <tr>
        <th>주소</th>
        <td>{{ restaurant.address }}</td>
      </tr>
      <tr>
        <th>전화번호</th>
        <td>전화번호 내용</td>
      </tr>
      <tr>
        <th>영업시간</th>
        <td>{{ restaurant.Opening_hours }}</td>
      </tr>
      <tr>
        <th>메뉴</th>
        <td>{{ restaurant.menu }}</td>
      </tr>
      <tr>
        <th>가격대</th>
        <td>{{ restaurant.price_avg }}</td>
      </tr>
      <tr>
        <th>주차</th>
        <td>{{ restaurant.parking }}</td>
      </tr>
      <tr>
        <th>휴일</th>
        <td>{{ restaurant.day_off }}</td>
      </tr>
    </table>
  </div>

  <!-- 메뉴사진 -->
  <div class="row row-cols-4 g-3">
    <div class="col text-center"><img src="http://placeimg.com/200/200/nature" alt="" class="img-fluid"></div>
    <div class="col text-center"><img src="http://placeimg.com/200/200/nature" alt="" class="img-fluid"></div>
    <div class="col text-center"><img src="http://placeimg.com/200/200/nature" alt="" class="img-fluid"></div>
    <div class="col text-center"><img src="http://placeimg.com/200/200/nature" alt="" class="img-fluid"></div>
  </div>
  <div class="row justify-content-center" style="background-color:grey;">사진에 마우스를 올려보세요!</div>

  <!-- 리뷰창 -->
  <!-- 개인 리뷰 -->
  {% for review in restaurant.review_set.all %}
  <div class="row justify-content-between p-3" style="background-color:lightgrey; height: 300px;">
    <div class="d-flex justify-content-between p-0 h-auto">
      <div class="d-flex">
        <div class="rounded-pill" style="background-color:yellow">프로필사진</div>
        <div class="rounded-pill" style="background-color:yellow">맛있다</div>
      </div>

      <div class="rounded-pill" style="background-color:yellow">{{ review.created_at }}</div>
    </div>
    <div style="background-color:grey;" class="p-0 h-75">{{ review.content }}</div>
  </div>
  {% empty %}
  <p class="text-center">아직 리뷰가 없습니다. 리뷰를 남겨
    <b>{{ restaurant.restaurant_name }}</b>의 첫번째 리뷰를 남겨보세요.
  </p>
  {% endfor %}

  <div class="rounded-pill" style="background-color:yellow">{{ review.created_at }}</div>
  </div>
  <div style="background-color:grey;" class="p-0 h-75">{{ review.content }}</div>
  </div>

  <!-- 페이지네이션 -->
  <div class="row">
    <nav aria-label="Page navigation example">
      <ul class="pagination justify-content-center">
        <li class="page-item">
          <a class="page-link" href="#" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
        <li class="page-item">
          <a class="page-link" href="#">1</a>
        </li>
        <li class="page-item">
          <a class="page-link" href="#">2</a>
        </li>
        <li class="page-item">
          <a class="page-link" href="#">3</a>
        </li>
        <li class="page-item">
          <a class="page-link" href="#" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
      </ul>
    </nav>
  </div>
  <!--</div>-->
</container>
{% endblock content %}